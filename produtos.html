<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KM ‚Äî Produtos</title>

  <link rel="stylesheet" href="assets/styles.css" />
  <link rel="stylesheet" href="assets/km.css" />
</head>
<body>
  <!-- HEADER IGUAL AO INDEX -->
  <header class="km-topbar">
    <div class="km-topbar-inner">
      <!-- logo leva pro admin -->
      <a href="admin.html" class="km-logo">
        <img src="assets/km-logo.jpg" alt="KM">
      </a>
      <nav class="km-nav-desktop">
        <a href="index.html">In√≠cio</a>
        <a href="sobre.html">Sobre n√≥s</a>
        <a href="produtos.html" class="active">Produtos</a>
        <a href="onde-comprar.html">Onde comprar</a>
        <a href="garantia.html">Garantia</a>
      </nav>
      <button class="km-hamburger" id="kmHamburger" aria-label="Abrir menu">
        <span></span><span></span><span></span>
      </button>
    </div>
    <div class="km-search-wrap">
      <input type="search" id="kmSearch" placeholder="Pesquisar produtos..." />
      <button id="kmSearchBtn">üîç</button>
    </div>
  </header>

  <!-- DRAWER MOBILE -->
  <aside class="km-drawer" id="kmDrawer">
    <div class="km-drawer-head">
      <img src="assets/km-logo.jpg" alt="KM">
      <button id="kmDrawerClose" aria-label="Fechar">√ó</button>
    </div>
    <nav class="km-drawer-nav">
      <a href="index.html">In√≠cio</a>
      <a href="sobre.html">Sobre n√≥s</a>
      <a href="produtos.html">Produtos</a>
      <a href="onde-comprar.html">Onde comprar</a>
      <a href="garantia.html">Garantia</a>
      <a href="admin.html">Painel admin</a>
    </nav>
  </aside>
  <div class="km-overlay" id="kmOverlay"></div>

  <!-- CONTE√öDO -->
  <main class="km-page km-prod-page">
    <!-- t√≠tulo + contador -->
    <div class="km-prod-head">
      <div>
        <h1>Todos os produtos</h1>
        <p id="kmProdCount">Carregando...</p>
      </div>
      <!-- filtro r√°pido mobile -->
      <button class="km-btn-filter-mobile" id="kmOpenFilters">Filtros</button>
    </div>

    <div class="km-prod-layout">
      <!-- LATERAL DE FILTROS -->
      <aside class="km-prod-filters" id="kmFilters">
        <h2>Filtrar por</h2>

        <div class="km-filter-block">
          <h3>Categorias</h3>
          <!-- VOLTEI pros IDs que voc√™ j√° usava -->
          <ul id="kmFilterCategorias">
            <!-- preenchido via js -->
          </ul>
        </div>

        <div class="km-filter-block">
          <h3>Marcas</h3>
          <ul id="kmFilterMarcas">
            <!-- preenchido via js -->
          </ul>
        </div>

        <div class="km-filter-block">
          <h3>Tipo</h3>
          <label><input type="checkbox" value="exclusivo" id="kmFilterExclusivo"> Exclusivos</label>
          <label><input type="checkbox" value="novo" id="kmFilterNovo"> Itens novos</label>
        </div>

        <button id="kmClearFilters" class="km-btn-clear">Limpar filtros</button>
      </aside>

      <!-- LISTA DE PRODUTOS -->
      <section class="km-prod-list" id="kmProdList">
        <!-- cards via js -->
      </section>
    </div>
  </main>

  <!-- MODAL DE DETALHES DO PRODUTO -->
  <div id="kmModalOverlay" class="km-modal-overlay" style="display:none;">
    <div class="km-modal">
      <button id="kmModalClose" class="km-modal-close" aria-label="Fechar">√ó</button>

      <div class="km-modal-body">
        <div class="km-modal-imgwrap">
          <img id="kmModalImg" src="assets/b1.svg" alt="Produto KM">
        </div>
        <div class="km-modal-content">
          <h2 id="kmModalTitle">Produto KM</h2>
          <p id="kmModalDesc" class="km-modal-desc">
            Descri√ß√£o do produto vai aparecer aqui.
          </p>

          <h3 class="km-modal-subtitle">Especifica√ß√µes</h3>
          <ul id="kmModalSpecs" class="km-modal-specs">
            <!-- specs via js -->
          </ul>

          <div class="km-modal-tags" id="kmModalTags">
            <!-- tags via js -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="km-footer">
    <p class="km-copy">¬© 2025 KM ‚Äî Todos os direitos reservados.</p>
  </footer>

  <!-- MODAL DE DETALHES DO PRODUTO -->
<div id="kmModalOverlay" class="km-modal-overlay" style="display:none;">
  <div class="km-modal">
    <button id="kmModalClose" class="km-modal-close" aria-label="Fechar">√ó</button>
    <div class="km-modal-content">
      <img id="kmModalImg" src="" alt="Produto" class="km-modal-img">
      <h2 id="kmModalTitle">Nome do produto</h2>
      <p id="kmModalDesc">Descri√ß√£o detalhada do produto aparecer√° aqui.</p>
      <h3>Especifica√ß√µes</h3>
      <ul id="kmModalSpecs"></ul>
      <div id="kmModalTags" class="km-modal-tags"></div>
    </div>
  </div>
</div>

  <!-- FIREBASE (v8, igual voc√™ j√° usa) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="assets/config.js"></script>

  <!-- VOLTAMOS pro seu JS que j√° funcionava -->
  <script src="assets/produtos-km.js"></script>

  <!-- JS UI (drawer, mobile filtros) -->
  <script>
    const hb = document.getElementById('kmHamburger');
    const drawer = document.getElementById('kmDrawer');
    const overlay = document.getElementById('kmOverlay');
    const btnClose = document.getElementById('kmDrawerClose');
    function openDrawer(){ drawer.classList.add('open'); overlay.classList.add('show'); }
    function closeDrawer(){ drawer.classList.remove('open'); overlay.classList.remove('show'); }

    if (hb) hb.onclick = openDrawer;
    if (overlay) overlay.onclick = closeDrawer;
    if (btnClose) btnClose.onclick = closeDrawer;

    // mobile filtros
    const openFilters = document.getElementById('kmOpenFilters');
    const filters = document.getElementById('kmFilters');
    if (openFilters && filters){
      openFilters.addEventListener('click', ()=>{
        filters.classList.toggle('show-mobile');
      });
    }
  </script>
</body>
</html>
s